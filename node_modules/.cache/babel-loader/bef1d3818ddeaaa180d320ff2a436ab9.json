{"ast":null,"code":"import _classCallCheck from \"/Users/Charles/Documents/Flatiron-School/mod-4/finalProject/parsed/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/Charles/Documents/Flatiron-School/mod-4/finalProject/parsed/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/Charles/Documents/Flatiron-School/mod-4/finalProject/parsed/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/Charles/Documents/Flatiron-School/mod-4/finalProject/parsed/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/Charles/Documents/Flatiron-School/mod-4/finalProject/parsed/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/Charles/Documents/Flatiron-School/mod-4/finalProject/parsed/src/App.js\";\nimport React, { Component } from 'react';\nimport testData from './db.json';\nimport Welcome from './components/Welcome';\nimport Customize from './components/Customize';\nimport Display from './components/Display';\nimport Nav from './components/Nav';\nimport Error from './components/Error';\nimport { Route, Switch, Redirect, withRouter } from \"react-router-dom\";\nimport './App.css';\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, App);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(App)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      apiUrl: '',\n      parsedData: [],\n      selectedDataAttributes: [],\n      displayData: [],\n      redirectToDisplay: false\n    };\n\n    _this.changeApiUrl = function (apiUrl) {\n      _this.setState({\n        apiUrl: apiUrl\n      }, function () {\n        return _this.parseApi();\n      });\n    };\n\n    _this.parseApi = function () {\n      if (_this.state.apiUrl === 'test') {\n        _this.setState({\n          parsedData: testData\n        });\n      } else if (_this.state.apiUrl !== 'test') {\n        fetch(_this.state.apiUrl).then(function (r) {\n          return r.json();\n        }).then(function (parsedData) {\n          _this.setState({\n            parsedData: parsedData\n          });\n        });\n      }\n    };\n\n    _this.changeSelectedDataAttributes = function (selectedDataAttributes) {\n      _this.setState({\n        selectedDataAttributes: selectedDataAttributes\n      }, function () {\n        return _this.parseDisplayData();\n      });\n    };\n\n    _this.parseDisplayData = function () {\n      var _this$state = _this.state,\n          parsedData = _this$state.parsedData,\n          selectedDataAttributes = _this$state.selectedDataAttributes;\n      var newArray = [];\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = parsedData[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var obj = _step.value;\n          var newObj = {};\n\n          for (var data in obj) {\n            var formattedDataName = data.split('_').join(' ');\n\n            if (selectedDataAttributes.includes(formattedDataName)) {\n              newObj[data] = obj[data];\n            }\n          }\n\n          newArray.push(newObj);\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return != null) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      _this.setState({\n        displayData: newArray,\n        redirectToDisplay: true\n      });\n    };\n\n    _this.renderDisplay = function () {\n      if (_this.state.redirectToDisplay) {\n        _this.setState({\n          redirectToDisplay: !_this.state.redirectToDisplay\n        });\n\n        return React.createElement(Redirect, {\n          to: \"/display\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 78\n          },\n          __self: this\n        });\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      document.body.style.overflow = this.props.location.pathname === \"/home\" ? 'hidden' : 'scroll';\n      return React.createElement(\"div\", {\n        className: \"app-display\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, React.createElement(Nav, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }), this.renderDisplay(), React.createElement(Switch, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(Route, {\n        path: \"/\",\n        render: function render(props) {\n          return React.createElement(Welcome, Object.assign({}, props, {\n            changeApiUrl: _this2.changeApiUrl,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 90\n            },\n            __self: this\n          }));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/customize\",\n        render: function render() {\n          return React.createElement(Customize, {\n            parsedData: _this2.state.parsedData,\n            changeSelectedDataAttributes: _this2.changeSelectedDataAttributes,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 91\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/display\",\n        render: function render() {\n          return React.createElement(Display, {\n            parsedData: _this2.state.parsedData,\n            displayData: _this2.state.displayData,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 92\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }), React.createElement(Route, {\n        component: Error,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default withRouter(App);","map":{"version":3,"sources":["/Users/Charles/Documents/Flatiron-School/mod-4/finalProject/parsed/src/App.js"],"names":["React","Component","testData","Welcome","Customize","Display","Nav","Error","Route","Switch","Redirect","withRouter","App","state","apiUrl","parsedData","selectedDataAttributes","displayData","redirectToDisplay","changeApiUrl","setState","parseApi","fetch","then","r","json","changeSelectedDataAttributes","parseDisplayData","newArray","obj","newObj","data","formattedDataName","split","join","includes","push","renderDisplay","document","body","style","overflow","props","location","pathname"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport testData from './db.json'\nimport Welcome from './components/Welcome'\nimport Customize from './components/Customize'\nimport Display from './components/Display'\nimport Nav from './components/Nav'\nimport Error from './components/Error'\nimport { Route, Switch, Redirect, withRouter } from \"react-router-dom\"\nimport './App.css'\n\nclass App extends Component {\n\n  state = {\n    apiUrl: '',\n    parsedData: [],\n    selectedDataAttributes: [],\n    displayData: [],\n    redirectToDisplay: false\n  }\n\n  changeApiUrl = (apiUrl) => {\n    this.setState({\n      apiUrl\n    }, () => this.parseApi())\n  }\n\n  parseApi = () => {\n    if (this.state.apiUrl === 'test') {\n      this.setState({\n        parsedData: testData\n      })\n    } else if (this.state.apiUrl !== 'test') {\n      fetch(this.state.apiUrl)\n      .then(r => r.json())\n      .then(parsedData => {\n        this.setState({\n          parsedData\n        })\n      })\n    }\n  }\n\n  changeSelectedDataAttributes = (selectedDataAttributes) => {\n    this.setState({\n      selectedDataAttributes\n    }, () => this.parseDisplayData())\n  }\n\n  parseDisplayData = () => {\n    const {parsedData, selectedDataAttributes} = this.state\n    const newArray = []\n\n    for (let obj of parsedData) {\n      const newObj = {}\n\n      for (let data in obj) {\n        const formattedDataName = data.split('_').join(' ')\n\n        if (selectedDataAttributes.includes(formattedDataName)) {\n          newObj[data] = obj[data]\n        }\n      }\n      newArray.push(newObj)\n    }\n\n    this.setState({\n      displayData: newArray,\n      redirectToDisplay: true\n    })\n  }\n\n  renderDisplay = () => {\n    if (this.state.redirectToDisplay) {\n      this.setState({\n        redirectToDisplay: !this.state.redirectToDisplay\n      })\n\n      return <Redirect to='/display' />\n    }\n  }\n\n\n  render() {\n    document.body.style.overflow = this.props.location.pathname === \"/home\" ? 'hidden' : 'scroll'\n    return (\n      <div className=\"app-display\">\n        <Nav />\n        {this.renderDisplay()}\n        <Switch>\n          <Route path=\"/\" render={(props) => <Welcome  {...props} changeApiUrl={this.changeApiUrl} />} />\n          <Route path=\"/customize\" render={() => <Customize parsedData={this.state.parsedData} changeSelectedDataAttributes={this.changeSelectedDataAttributes} />} />\n          <Route path=\"/display\" render={() => <Display parsedData={this.state.parsedData} displayData={this.state.displayData} />} />\n          <Route component={Error} />\n        </Switch>\n      </div>\n    )\n  }\n}\n\nexport default withRouter(App);\n"]},"metadata":{},"sourceType":"module"}